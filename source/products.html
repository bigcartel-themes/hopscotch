<div class="products-page-header">
  <h1 class="page-title products-title">{{ page.name }}</h1>
</div>
{% paginate products from products.current by theme.products_per_page %}
  {% if products != blank %}
    <div class="products-page-products product-list">
      {% for product in products %}
        {% assign image_width = product.image.width | times: 1.0 %}
        {% assign image_height = product.image.height | times: 1.0 %}
        {% assign product_status = '' %}
        {% case product.status %}
          {% when 'active' %}
            {% if product.on_sale %}{% assign product_status = 'On sale' %}{% endif %}
          {% when 'sold-out' %}
            {% assign product_status = 'Sold out' %}
          {% when 'coming-soon' %}
            {% assign product_status = 'Coming soon' %}
        {% endcase %}
        <div class="horizontal product-card {{ product.css_class }} animate-in">
          <a class="product-link" href="{{ product.url }}" title="View {{ product.name | escape }}">
            <div class="product-image-holder">
              <img
                alt=""
                class="product-list-image"
                src="{{ product.image | product_image_url | constrain: 20 }}"
                srcset="
                  {{ product.image | product_image_url | constrain: 240 }} 240w,
                  {{ product.image | product_image_url | constrain: 320 }} 320w,
                  {{ product.image | product_image_url | constrain: 400 }} 400w,
                  {{ product.image | product_image_url | constrain: 540 }} 540w,
                  {{ product.image | product_image_url | constrain: 600 }} 600w,
                  {{ product.image | product_image_url | constrain: 800 }} 800w,
                  {{ product.image | product_image_url | constrain: 960 }} 960w
                "
                sizes="auto"
                loading="lazy"
                width="{{ image_width }}"
                height="{{ image_height }}"
              >
              <div class="view-details">View Details</div>
            </div>
            <div class="product-info">
              <div class="product-name">{{ product.name }}</div>
              <div class="product-price">
                {{ product.default_price | money: theme.money_format }}
                {% if product_status != blank %}
                  <span class="product-status">&mdash; {{ product_status }}</span>
                {% endif %}
              </div>
            </div>
          </a>
        </div>
      {% endfor %}
    </div>
    {% if paginate.pages > 1 %}
      <div class="pagination-container">
        {{ paginate | default_pagination, 'pagination', 'pagination', '<svg class="pagination-arrow prev-arrow" width="11" height="13" viewBox="0 0 11 13"><path d="M9.65 7.65l.71.71-4.5 4.5c-.1.1-.23.15-.35.15-.12 0-.26-.05-.35-.15l-4.5-4.5.71-.71 3.65 3.65V0h1v11.29l3.63-3.64z" fill-rule="nonzero" /></svg><span class="pagination-link-caption">Prev Page</span>', '<span class="pagination-link-caption">Next Page</span><svg class="pagination-arrow next-arrow" width="11" height="13" viewBox="0 0 11 13"><path d="M9.65 7.65l.71.71-4.5 4.5c-.1.1-.23.15-.35.15-.12 0-.26-.05-.35-.15l-4.5-4.5.71-.71 3.65 3.65V0h1v11.29l3.63-3.64z" fill-rule="nonzero" /></svg>' }}
        <span class="paginate-info">Page {{ paginate.current_page }} of {{ paginate.pages }}</span>
      </div>
    {% endif %}
  {% else %}
    <p class="large-note">No products found.</p>
  {% endif %}
{% endpaginate %}